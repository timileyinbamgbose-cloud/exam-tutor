# ExamsTutor AI - Secrets
# Epic 3.4: Kubernetes Deployment & Security
# IMPORTANT: This is a template. Use external secret management in production
# (e.g., Sealed Secrets, External Secrets Operator, HashiCorp Vault)

apiVersion: v1
kind: Secret
metadata:
  name: examstutor-secrets
  namespace: examstutor
  labels:
    app: examstutor-api
    component: secrets
type: Opaque
stringData:
  # Security Keys (Base64 encode in production)
  SECRET_KEY: "your-secret-key-here-change-in-production"
  JWT_SECRET_KEY: "your-jwt-secret-key-here-change-in-production"
  PII_ENCRYPTION_KEY: "your-pii-encryption-key-here-change-in-production"

  # Database Credentials
  DATABASE_URL: "postgresql+asyncpg://examstutor:password@postgres-service:5432/examstutor_db"
  DB_PASSWORD: "examstutor123"

  # Redis Credentials
  REDIS_URL: "redis://:examstutor123@redis-service:6379/0"
  REDIS_PASSWORD: "examstutor123"

  # External API Keys (if needed)
  OPENAI_API_KEY: ""
  ANTHROPIC_API_KEY: ""

---
# TLS Certificate Secret (for HTTPS)
apiVersion: v1
kind: Secret
metadata:
  name: examstutor-tls
  namespace: examstutor
  labels:
    app: examstutor-api
    component: tls
type: kubernetes.io/tls
data:
  # Base64 encoded certificate and key
  # Generate with: kubectl create secret tls examstutor-tls --cert=path/to/cert --key=path/to/key
  tls.crt: ""
  tls.key: ""
